{% load widget_tweaks %}
<tr hx-target="this" hx-swap="outerHTML">
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">{{ booking.user.first_name }}</td>
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">{{ booking.user.last_name }}</td>
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">
        {% render_field form.date class="text-md block px-3 py-2  rounded-lg w-full bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none" placeholder=form.bookable_asset_name.help_text %}
        <span class="block text-sm font-medium text-red-700">{{ form.date.errors }}</span>
    </td>
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">
        {% render_field form.start_time class="text-md block px-3 py-2  rounded-lg w-full bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none" placeholder=form.bookable_asset_name.help_text %}
        <span class="block text-sm font-medium text-red-700">{{ form.start_time.errors }}</span>
    </td>
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">
        {% render_field form.end_time class="text-md block px-3 py-2  rounded-lg w-full bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none" placeholder=form.bookable_asset_name.help_text %}
        <span class="block text-sm font-medium text-red-700">{{ form.end_time.errors }}</span>
    </td>
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">
        {% render_field form.status class="text-md block px-3 py-2  rounded-lg w-full bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none" placeholder=form.bookable_asset_name.help_text %}
    </td>
    <td class="border px-4 py-2 overflow-hidden whitespace-normal">
        <button type="submit"
                hx-post="{% url "bookings:manage_booking_asset_edit" booking_id=booking.id %}"
                hx-include="closest tr"
                class="text-slate-800 hover:text-red-600 text-sm bg-white hover:bg-slate-100 border border-slate-200 rounded-md font-medium px-2 py-1 flex items-center justify-center transition-all duration-300 ease-in-out group">
            <svg xmlns="http://www.w3.org/2000/svg"
                 fill="none"
                 viewBox="0 0 24 24"
                 stroke-width="1.5"
                 stroke="currentColor"
                 class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span class="ml-2 hidden sm:inline-block group-hover:inline-block">Submit</span>
        </button>
        <button type="button"
                hx-get="{% url "bookings:manage_booking_asset_get" booking_id=booking.id %}"
                class="text-slate-800 hover:text-red-600 text-sm bg-white hover:bg-slate-100 border border-slate-200 rounded-md font-medium px-2 py-1 flex items-center justify-center transition-all duration-300 ease-in-out group">
            <svg xmlns="http://www.w3.org/2000/svg"
                 fill="none"
                 viewBox="0 0 24 24"
                 stroke-width="1.5"
                 stroke="currentColor"
                 class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span class="ml-2 hidden sm:inline-block group-hover:inline-block">Cancel</span>
        </button>
        {% if form.errors %}
            <ul>
                {% for key,value in form.errors.items %}
                    <li>
                        <span class="block text-sm font-medium text-red-700">{{ value|escape }}</span>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </td>
</tr>
{% block script %}
    <script>
        $("input[name='date']").flatpickr();
        $("input[name='start_time']").flatpickr({
            enableTime: true,
            noCalendar: true,
            dateFormat: "H:i",
            time_24hr: true
        });
        $("input[name='end_time']").flatpickr({
            enableTime: true,
            noCalendar: true,
            dateFormat: "H:i",
            time_24hr: true
        });
    </script>
{% endblock script %}
